// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
}

model Conversation {
    id        String    @id @default(uuid())
    createdAt DateTime  @default(now())
    messages  Message[]
}

model Message {
    id             String       @id @default(uuid())
    conversationId String
    conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
    sender         String // "user" or "ai"
    text           String
    createdAt      DateTime     @default(now())

    @@index([conversationId])
}
